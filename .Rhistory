install.packages(c("ggplot2", "plyr", "gdata"))
x <- 1:100
y <- 2x
x <- 1:100
y <- 2x
y <- 2*x
library (ggplot2)
wd <- getwd()
file <- paste (wd, "objects", "SAAR.1999.2012.csv", sep = "/")
saar <- read.csv (file)
Gr8E <- saar [, grep ("GR8E", names (saar))]
Gr12E <- saar [, grep ("GR12E", names (saar))]
TotGr8E <- colSums (Gr8E)
TotGr12E <- colSums (Gr12E)
Year <- as.Date (as.character (1999:2012), "%Y")
E <- as.data.frame (cbind (Year, TotGr8E, TotGr12E))
E$Year <- Year
Missing <- E [5:14, 3] - E[1:10, 2]
Missing <- c(rep(NA, 4), Missing)
E <- cbind (E, Missing)
p1 <- ggplot(E, aes (x = Year, y = TotGr8E))
p1 <- p1 + geom_line ()
p1 <- p1 + ylim (-10000, 0)
p1 <- p1 + xlab ("Year") + ylab ("Missing Students") + ggtitle ("Difference Between 8th and 12th Grade
Enrollments")
p1 <- p1 + xlim (min (E[5,1]), max (E$Year))
p1 <- p1 + geom_line (y = TotGr12E)
p1 <- p1 + geom_line (y = Missing)
p1
setwd("~/Desktop/SAAR_Data")
setwd("~/Desktop/SAAR_Data")
library (ggplot2)
wd <- getwd()
file <- paste (wd, "objects", "SAAR.1999.2012.csv", sep = "/")
saar <- read.csv (file)
Gr8E <- saar [, grep ("GR8E", names (saar))]
Gr12E <- saar [, grep ("GR12E", names (saar))]
TotGr8E <- colSums (Gr8E)
TotGr12E <- colSums (Gr12E)
Year <- as.Date (as.character (1999:2012), "%Y")
E <- as.data.frame (cbind (Year, TotGr8E, TotGr12E))
E$Year <- Year
Missing <- E [5:14, 3] - E[1:10, 2]
Missing <- c(rep(NA, 4), Missing)
E <- cbind (E, Missing)
p1 <- ggplot(E, aes (x = Year, y = TotGr8E))
p1 <- p1 + geom_line ()
p1 <- p1 + ylim (-10000, 0)
p1 <- p1 + xlab ("Year") + ylab ("Missing Students") + ggtitle ("Difference Between 8th and 12th Grade
Enrollments")
p1 <- p1 + xlim (min (E[5,1]), max (E$Year))
p1 <- p1 + geom_line (y = TotGr12E)
p1 <- p1 + geom_line (y = Missing)
p1
wd <- getwd()
file <- paste (wd, "objects", "SAAR.1999.2012.csv", sep = "/")
saar <- read.csv (file)
file <- paste (wd, "data sets", "Grad Rate 2003-2007.csv", sep = "/")
gr <- read.csv (file)
file <- paste (wd, "objects", "afgr.08.12.csv", sep = "/")
afgr <- read.csv (file)
Gr8E <- saar [, c(1, grep ("GR8E", names (saar)))]
Gr8E.tot <- colSums (Gr8E[,2:15])
Gr8E.tot <- Gr8E.tot[5: length (Gr8E.tot)]
attach (gr)
gr <- gr [, c(4, 5, grep ("GRADS_4YR", names (gr)))]
gr <- gr [SCHNAME == "---DISTRICT TOTAL---", ]
gr <- gr[, -2]
detach (gr)
Diplomas <- c(colSums (gr[, 2:6], na.rm = T), colSums (afgr[, 2:6 ]))
Diplomas <- as.data.frame (Diplomas)
row.names(Diplomas) <-  (paste ("Grad.w.Diploma.in.4.years", 2003:2012, "KDE", sep = "."))
Year <- (2003:2012)
Diplomas <- cbind (Year, Diplomas, Gr8E.tot)
Diff <- Diplomas$Diplomas - Diplomas$Gr8E.tot
Diplomas <- cbind (Diplomas, Diff)
#plot
p1 <- ggplot (Diplomas, aes(Year, Gr8E.tot))
p1 <- p1 + geom_line ()
p1 <- p1 + xlab("Year") + ylab("Students") + ggtitle ("Difference in 8th Grade Enrollments
Diploma Recipients")
p1 <- p1 + scale_x_continuous (limits = c(2003, 2012), breaks = seq(from = 2003, to = 2012, by = 2))
p1 <- p1 + ylim(-17500, 60000)
p1 <- p1 + geom_line (aes(Year, Diplomas))
p1 <- p1 + geom_line (aes(Year, Diff), colour = "red")
p1
