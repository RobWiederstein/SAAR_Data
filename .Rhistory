install.packages(c("ggplot2", "plyr", "gdata"))
x <- 1:100
y <- 2x
x <- 1:100
y <- 2x
y <- 2*x
q <- function (){
2*a
}
q(5)
str
sum
q <- function (a){
2*a
}
q(4)
?stopifnot
q <- function (a){
stopifnot(a >1, a <10)
2*a
}
q (10)
q (10)
q(4)
q(1)
wd <- getwd()
file <- paste (wd, "data sets", "ACCOUNTABILITY_GRADUATION_RATE_COHORT.csv", sep = "/")
agrc <- read.csv (file, header = T, sep = ",", as.is = T,
strip.white = T)
setwd("~/Desktop/SAAR_Data")
wd <- getwd()
file <- paste (wd, "data sets", "ACCOUNTABILITY_GRADUATION_RATE_COHORT.csv", sep = "/")
agrc <- read.csv (file, header = T, sep = ",", as.is = T,
strip.white = T)
View(agrc)
names (agrc)
agrc <- agrc [DISAGG_ORDER == "0"]
agrc <- agrc [agrc$DISAGG_ORDER == "0"]
agrc <- agrc [agrc$DISAGG_ORDER == "0",]
View(agrc)
head (agrc$SCH_NAME)
agrc <- agrc [agrc$DISAGG_ORDER == "0" & agrc$SCH_NAME == "--District Total--",]
View(agrc)
names (agrc)
agrc <- agrc [, agrc$SCH_YEAR]
agrc <- agrc [, c(1, 4, 8)]
View(agrc)
View(agrc)
names(agrc)[3] <- paste ("Grad.w.Diploma.in.4.years", 2012, "KDE", sep = ".")
View(agrc)
#AFGR data is for 2008-2012.
#David Curd with KDE advised that AFGR data is lagged one year.
#2012 data would be for 2010-11 School Year
#KDE's naming convention is to refer to the second year of the 2010-11 school year.
wd <- getwd()
file <- paste (wd, "objects", "SAAR.1999.2013.csv", sep = "/")
saar <- read.table (file, header = TRUE, sep = ",")
AFGR <- read.csv(file = paste (wd, "data sets", "AFGR_2012.csv", sep = "/"),
sep = ",",
header = TRUE,
strip.white = TRUE,
colClasses = "character")
attach (AFGR)
#Diploma Recipients from KDE (DR.**) by year.  Because 1 yr lag, 2012 is for 2010-2011 school year.
#Code uses first year of school year, contrary to KDE naming conventions
View(AFGR)
#Grad Rate 2003-2007 was sent via email from Kentucky Department of Education
#No longer available on website. Disaggregated by school district
wd <- getwd()
file <- paste (wd, "data sets", "Grad Rate 2003-2007.csv", sep = "/")
gr <- read.csv (file = file, sep = ",", header = TRUE,
strip.white = TRUE,
colClasses = "character")
#pull out columns for 4 year graduates
attach (gr)
gr <- gr [, c(4, 5, grep ("GRADS_4YR", names (gr)))]
gr <- gr [SCHNAME == "---DISTRICT TOTAL---", ]
gr <- gr [, -2]
detach (gr)
View(gr)
View(gr)
wd <- getwd()
file <- paste (wd, "objects", "SAAR.1999.2013.csv", sep = "/")
saar <- read.table (file, header = TRUE, sep = ",")
AFGR <- read.csv(file = paste (wd, "data sets", "AFGR_2012.csv", sep = "/"),
sep = ",",
header = TRUE,
strip.white = TRUE,
colClasses = "character")
attach (AFGR)
#Diploma Recipients from KDE (DR.**) by year.  Because 1 yr lag, 2012 is for 2010-2011 school year.
#Code uses first year of school year, contrary to KDE naming conventions
DR.06 <- AFGR[ which(Gender=='Total' & Ethnicity=='Total' & School.Name == 'DISTRICT TOTAL' & School.Year == '2008'), c (1, 5, 10)]
DR.07 <- AFGR[ which(Gender=='Total' & Ethnicity=='Total' & School.Name == 'DISTRICT TOTAL' & School.Year == '2009'), c (1, 5, 10)]
DR.08 <- AFGR[ which(Gender=='Total' & Ethnicity=='Total' & School.Name == 'DISTRICT TOTAL' & School.Year == '2010'), c (1, 5, 10)]
DR.09 <- AFGR[ which(Gender=='Total' & Ethnicity=='Total' & School.Name == 'DISTRICT TOTAL' & School.Year == '2011'), c (1, 5, 10)]
DR.10 <- AFGR[ which(Gender=='Total' & Ethnicity=='Total' & School.Name == 'DISTRICT TOTAL' & School.Year == '2012'), c (1, 5, 10)]
View(AFGR)
Clean.GRAD   <- function (){
#Grad Rate 2003-2007 was sent via email from Kentucky Department of Education
#No longer available on website. Disaggregated by school district
wd <- getwd()
file <- paste (wd, "data sets", "Grad Rate 2003-2007.csv", sep = "/")
gr <- read.csv (file = file, sep = ",", header = TRUE,
strip.white = TRUE,
colClasses = "character")
#pull out columns for 4 year graduates
attach (gr)
gr <- gr [, c(4, 5, grep ("GRADS_4YR", names (gr)))]
gr <- gr [SCHNAME == "---DISTRICT TOTAL---", ]
gr <- gr [, -2]
detach (gr)
wd <- getwd()
file <- paste (wd, "data sets", "Grad Rate 2003-2007.csv", sep = "/")
gr <- read.csv (file = file, sep = ",", header = TRUE,
strip.white = TRUE,
colClasses = "character")
#pull out columns for 4 year graduates
attach (gr)
gr <- gr [, c(4, 5, grep ("GRADS_4YR", names (gr)))]
gr <- gr [SCHNAME == "---DISTRICT TOTAL---", ]
gr <- gr [, -2]
detach (gr)
View(gr)
wd <- getwd()
file <- paste (wd, "objects", "SAAR.1999.2013.csv", sep = "/")
saar <- read.table (file, header = TRUE, sep = ",")
AFGR <- read.csv(file = paste (wd, "data sets", "AFGR_2012.csv", sep = "/"),
sep = ",",
header = TRUE,
strip.white = TRUE,
colClasses = "character")
attach (AFGR)
#Diploma Recipients from KDE (DR.**) by year.  Because 1 yr lag, 2012 is for 2010-2011 school year.
#Code uses first year of school year, contrary to KDE naming conventions
DR.06 <- AFGR[ which(Gender=='Total' & Ethnicity=='Total' & School.Name == 'DISTRICT TOTAL' & School.Year == '2008'), c (1, 5, 10)]
DR.07 <- AFGR[ which(Gender=='Total' & Ethnicity=='Total' & School.Name == 'DISTRICT TOTAL' & School.Year == '2009'), c (1, 5, 10)]
DR.08 <- AFGR[ which(Gender=='Total' & Ethnicity=='Total' & School.Name == 'DISTRICT TOTAL' & School.Year == '2010'), c (1, 5, 10)]
DR.09 <- AFGR[ which(Gender=='Total' & Ethnicity=='Total' & School.Name == 'DISTRICT TOTAL' & School.Year == '2011'), c (1, 5, 10)]
DR.10 <- AFGR[ which(Gender=='Total' & Ethnicity=='Total' & School.Name == 'DISTRICT TOTAL' & School.Year == '2012'), c (1, 5, 10)]
names (AFGR)
View(AFGR)
wd <- getwd()
file <- paste (wd, "data sets", "ACCOUNTABILITY_GRADUATION_RATE_COHORT.csv", sep = "/")
agrc <- read.csv (file, header = T, sep = ",", as.is = T,
strip.white = T)
agrc <- agrc [agrc$DISAGG_ORDER == "0" & agrc$SCH_NAME == "--District Total--",]
View(agrc)
wd <- getwd()
file <- paste (wd, "objects", "SAAR.1999.2013.csv", sep = "/")
saar <- read.table (file, header = TRUE, sep = ",")
AFGR <- read.csv(file = paste (wd, "data sets", "AFGR_2012.csv", sep = "/"),
sep = ",",
header = TRUE,
strip.white = TRUE,
colClasses = "character")
attach (AFGR)
#Diploma Recipients from KDE (DR.**) by year.  Because 1 yr lag, 2012 is for 2010-2011 school year.
#Code uses first year of school year, contrary to KDE naming conventions
DR.07 <- AFGR[ which(Gender=='Total' & Ethnicity=='Total' & School.Name == 'DISTRICT TOTAL' & School.Year == '2008'), c (1, 5, 10)]
DR.08 <- AFGR[ which(Gender=='Total' & Ethnicity=='Total' & School.Name == 'DISTRICT TOTAL' & School.Year == '2009'), c (1, 5, 10)]
DR.09 <- AFGR[ which(Gender=='Total' & Ethnicity=='Total' & School.Name == 'DISTRICT TOTAL' & School.Year == '2010'), c (1, 5, 10)]
DR.10 <- AFGR[ which(Gender=='Total' & Ethnicity=='Total' & School.Name == 'DISTRICT TOTAL' & School.Year == '2011'), c (1, 5, 10)]
DR.11 <- AFGR[ which(Gender=='Total' & Ethnicity=='Total' & School.Name == 'DISTRICT TOTAL' & School.Year == '2012'), c (1, 5, 10)]
rm (AFGR)
detach (AFGR)
#create a common column for merge with SAAR data
b <- DR.07$District.Name
b[84]  <- "Jefferson County"
b[91]  <- "LaRue County"
b[110] <- "McCracken County"
b[111] <- "McCreary County"
b[112] <- "McLean County"
b[142] <- "Raceland Independent"
b[160] <- "Walton Verona Independent"
#assign common column to DR.** for merge
DR.07[,2] <- b
DR.08[,2] <- b
DR.09[,2] <- b
DR.10[,2] <- b
DR.11[,2] <- b
#assign common column name "DISTRICT"
names(DR.07)[2] <- "DISTRICT"
names(DR.07)[2] <- "DISTRICT"
names(DR.08)[2] <- "DISTRICT"
names(DR.09)[2] <- "DISTRICT"
names(DR.10)[2] <- "DISTRICT"
names(DR.11)[2] <- "DISTRICT"
#merge
afgr.07.11 <- merge(DR.07, DR.08, by = "DISTRICT")
afgr.07.11 <- merge(afgr.07.11, DR.09, by = "DISTRICT")
afgr.07.11 <- merge(afgr.07.11, DR.10, by = "DISTRICT")
afgr.07.11 <- merge(afgr.07.11, DR.11, by = "DISTRICT")
wd <- getwd()
file <- paste (wd, "objects", "SAAR.1999.2013.csv", sep = "/")
saar <- read.table (file, header = TRUE, sep = ",")
AFGR <- read.csv(file = paste (wd, "data sets", "AFGR_2012.csv", sep = "/"),
sep = ",",
header = TRUE,
strip.white = TRUE,
colClasses = "character")
attach (AFGR)
#Diploma Recipients from KDE (DR.**) by year.  Because 1 yr lag, 2012 is for 2010-2011 school year.
#Code uses first year of school year, contrary to KDE naming conventions
DR.07 <- AFGR[ which(Gender=='Total' & Ethnicity=='Total' & School.Name == 'DISTRICT TOTAL' & School.Year == '2008'), c (1, 5, 10)]
DR.08 <- AFGR[ which(Gender=='Total' & Ethnicity=='Total' & School.Name == 'DISTRICT TOTAL' & School.Year == '2009'), c (1, 5, 10)]
DR.09 <- AFGR[ which(Gender=='Total' & Ethnicity=='Total' & School.Name == 'DISTRICT TOTAL' & School.Year == '2010'), c (1, 5, 10)]
DR.10 <- AFGR[ which(Gender=='Total' & Ethnicity=='Total' & School.Name == 'DISTRICT TOTAL' & School.Year == '2011'), c (1, 5, 10)]
DR.11 <- AFGR[ which(Gender=='Total' & Ethnicity=='Total' & School.Name == 'DISTRICT TOTAL' & School.Year == '2012'), c (1, 5, 10)]
rm (AFGR)
detach (AFGR)
#create a common column for merge with SAAR data
b <- DR.07$District.Name
b[84]  <- "Jefferson County"
b[91]  <- "LaRue County"
b[110] <- "McCracken County"
b[111] <- "McCreary County"
b[112] <- "McLean County"
b[142] <- "Raceland Independent"
b[160] <- "Walton Verona Independent"
#assign common column to DR.** for merge
DR.07[,2] <- b
DR.08[,2] <- b
DR.09[,2] <- b
DR.10[,2] <- b
DR.11[,2] <- b
#assign common column name "DISTRICT"
names(DR.07)[2] <- "DISTRICT"
names(DR.08)[2] <- "DISTRICT"
names(DR.09)[2] <- "DISTRICT"
names(DR.10)[2] <- "DISTRICT"
names(DR.11)[2] <- "DISTRICT"
#merge
afgr.07.11 <- merge(DR.07, DR.08, by = "DISTRICT")
afgr.07.11 <- merge(afgr.07.11, DR.09, by = "DISTRICT")
afgr.07.11 <- merge(afgr.07.11, DR.10, by = "DISTRICT")
afgr.07.11 <- merge(afgr.07.11, DR.11, by = "DISTRICT")
afgr.07.11 <- afgr.07.10 [, c(1,3,5,7,9,11)]
names(afgr.07.11)[2:6] <- paste ("Grad.w.Diploma.in.4.years", 2007:2011, "KDE", sep = ".")
wd <- getwd()
file <- paste (wd, "objects", "SAAR.1999.2013.csv", sep = "/")
saar <- read.table (file, header = TRUE, sep = ",")
AFGR <- read.csv(file = paste (wd, "data sets", "AFGR_2012.csv", sep = "/"),
sep = ",",
header = TRUE,
strip.white = TRUE,
colClasses = "character")
attach (AFGR)
#Diploma Recipients from KDE (DR.**) by year.  Because 1 yr lag, 2012 is for 2010-2011 school year.
#Code uses first year of school year, contrary to KDE naming conventions
DR.07 <- AFGR[ which(Gender=='Total' & Ethnicity=='Total' & School.Name == 'DISTRICT TOTAL' & School.Year == '2008'), c (1, 5, 10)]
DR.08 <- AFGR[ which(Gender=='Total' & Ethnicity=='Total' & School.Name == 'DISTRICT TOTAL' & School.Year == '2009'), c (1, 5, 10)]
DR.09 <- AFGR[ which(Gender=='Total' & Ethnicity=='Total' & School.Name == 'DISTRICT TOTAL' & School.Year == '2010'), c (1, 5, 10)]
DR.10 <- AFGR[ which(Gender=='Total' & Ethnicity=='Total' & School.Name == 'DISTRICT TOTAL' & School.Year == '2011'), c (1, 5, 10)]
DR.11 <- AFGR[ which(Gender=='Total' & Ethnicity=='Total' & School.Name == 'DISTRICT TOTAL' & School.Year == '2012'), c (1, 5, 10)]
rm (AFGR)
detach (AFGR)
#create a common column for merge with SAAR data
b <- DR.07$District.Name
b[84]  <- "Jefferson County"
b[91]  <- "LaRue County"
b[110] <- "McCracken County"
b[111] <- "McCreary County"
b[112] <- "McLean County"
b[142] <- "Raceland Independent"
b[160] <- "Walton Verona Independent"
#assign common column to DR.** for merge
DR.07[,2] <- b
DR.08[,2] <- b
DR.09[,2] <- b
DR.10[,2] <- b
DR.11[,2] <- b
#assign common column name "DISTRICT"
names(DR.07)[2] <- "DISTRICT"
names(DR.08)[2] <- "DISTRICT"
names(DR.09)[2] <- "DISTRICT"
names(DR.10)[2] <- "DISTRICT"
names(DR.11)[2] <- "DISTRICT"
#merge
afgr.07.11 <- merge(DR.07, DR.08, by = "DISTRICT")
afgr.07.11 <- merge(afgr.07.11, DR.09, by = "DISTRICT")
afgr.07.11 <- merge(afgr.07.11, DR.10, by = "DISTRICT")
afgr.07.11 <- merge(afgr.07.11, DR.11, by = "DISTRICT")
afgr.07.11 <- afgr.07.11 [, c(1,3,5,7,9,11)]
names(afgr.07.11)[2:6] <- paste ("Grad.w.Diploma.in.4.years", 2007:2011, "KDE", sep = ".")
View(afgr.07.11)
#Save as R object to load in later script
afgr.new <- paste (wd, "objects", "afgr.07.10.csv", sep = "/")
write.table (afgr.07.10, file = afgr.new, sep = ",")
wd <- getwd()
file <- paste (wd, "objects", "SAAR.1999.2013.csv", sep = "/")
saar <- read.table (file, header = TRUE, sep = ",")
AFGR <- read.csv(file = paste (wd, "data sets", "AFGR_2012.csv", sep = "/"),
sep = ",",
header = TRUE,
strip.white = TRUE,
colClasses = "character")
attach (AFGR)
#Diploma Recipients from KDE (DR.**) by year.  Because 1 yr lag, 2012 is for 2010-2011 school year.
#Code uses first year of school year, contrary to KDE naming conventions
DR.07 <- AFGR[ which(Gender=='Total' & Ethnicity=='Total' & School.Name == 'DISTRICT TOTAL' & School.Year == '2008'), c (1, 5, 10)]
DR.08 <- AFGR[ which(Gender=='Total' & Ethnicity=='Total' & School.Name == 'DISTRICT TOTAL' & School.Year == '2009'), c (1, 5, 10)]
DR.09 <- AFGR[ which(Gender=='Total' & Ethnicity=='Total' & School.Name == 'DISTRICT TOTAL' & School.Year == '2010'), c (1, 5, 10)]
DR.10 <- AFGR[ which(Gender=='Total' & Ethnicity=='Total' & School.Name == 'DISTRICT TOTAL' & School.Year == '2011'), c (1, 5, 10)]
DR.11 <- AFGR[ which(Gender=='Total' & Ethnicity=='Total' & School.Name == 'DISTRICT TOTAL' & School.Year == '2012'), c (1, 5, 10)]
rm (AFGR)
detach (AFGR)
#create a common column for merge with SAAR data
b <- DR.07$District.Name
b[84]  <- "Jefferson County"
b[91]  <- "LaRue County"
b[110] <- "McCracken County"
b[111] <- "McCreary County"
b[112] <- "McLean County"
b[142] <- "Raceland Independent"
b[160] <- "Walton Verona Independent"
#assign common column to DR.** for merge
DR.07[,2] <- b
DR.08[,2] <- b
DR.09[,2] <- b
DR.10[,2] <- b
DR.11[,2] <- b
#assign common column name "DISTRICT"
names(DR.07)[2] <- "DISTRICT"
names(DR.08)[2] <- "DISTRICT"
names(DR.09)[2] <- "DISTRICT"
names(DR.10)[2] <- "DISTRICT"
names(DR.11)[2] <- "DISTRICT"
#merge
afgr.07.11 <- merge(DR.07, DR.08, by = "DISTRICT")
afgr.07.11 <- merge(afgr.07.11, DR.09, by = "DISTRICT")
afgr.07.11 <- merge(afgr.07.11, DR.10, by = "DISTRICT")
afgr.07.11 <- merge(afgr.07.11, DR.11, by = "DISTRICT")
afgr.07.11 <- afgr.07.11 [, c(1,3,5,7,9,11)]
names(afgr.07.11)[2:6] <- paste ("Grad.w.Diploma.in.4.years", 2007:2011, "KDE", sep = ".")
#Save as R object to load in later script
afgr.new <- paste (wd, "objects", "afgr.07.10.csv", sep = "/")
write.table (afgr.07.10, file = afgr.new, sep = ",")
View(DR.08)
wd <- getwd()
file <- paste (wd, "objects", "SAAR.1999.2013.csv", sep = "/")
saar <- read.table (file, header = TRUE, sep = ",")
AFGR <- read.csv(file = paste (wd, "data sets", "AFGR_2012.csv", sep = "/"),
sep = ",",
header = TRUE,
strip.white = TRUE,
colClasses = "character")
attach (AFGR)
#Diploma Recipients from KDE (DR.**) by year.  Because 1 yr lag, 2012 is for 2010-2011 school year.
#Code uses first year of school year, contrary to KDE naming conventions
DR.07 <- AFGR[ which(Gender=='Total' & Ethnicity=='Total' & School.Name == 'DISTRICT TOTAL' & School.Year == '2008'), c (1, 5, 10)]
DR.08 <- AFGR[ which(Gender=='Total' & Ethnicity=='Total' & School.Name == 'DISTRICT TOTAL' & School.Year == '2009'), c (1, 5, 10)]
DR.09 <- AFGR[ which(Gender=='Total' & Ethnicity=='Total' & School.Name == 'DISTRICT TOTAL' & School.Year == '2010'), c (1, 5, 10)]
DR.10 <- AFGR[ which(Gender=='Total' & Ethnicity=='Total' & School.Name == 'DISTRICT TOTAL' & School.Year == '2011'), c (1, 5, 10)]
DR.11 <- AFGR[ which(Gender=='Total' & Ethnicity=='Total' & School.Name == 'DISTRICT TOTAL' & School.Year == '2012'), c (1, 5, 10)]
rm (AFGR)
detach (AFGR)
#create a common column for merge with SAAR data
b <- DR.07$District.Name
b[84]  <- "Jefferson County"
b[91]  <- "LaRue County"
b[110] <- "McCracken County"
b[111] <- "McCreary County"
b[112] <- "McLean County"
b[142] <- "Raceland Independent"
b[160] <- "Walton Verona Independent"
#assign common column to DR.** for merge
DR.07[,2] <- b
DR.08[,2] <- b
DR.09[,2] <- b
DR.10[,2] <- b
DR.11[,2] <- b
#assign common column name "DISTRICT"
names(DR.07)[2] <- "DISTRICT"
names(DR.08)[2] <- "DISTRICT"
names(DR.09)[2] <- "DISTRICT"
names(DR.10)[2] <- "DISTRICT"
names(DR.11)[2] <- "DISTRICT"
#merge
afgr.07.11 <- merge(DR.07, DR.08, by = "DISTRICT")
afgr.07.11 <- merge(afgr.07.11, DR.09, by = "DISTRICT")
afgr.07.11 <- merge(afgr.07.11, DR.10, by = "DISTRICT")
afgr.07.11 <- merge(afgr.07.11, DR.11, by = "DISTRICT")
afgr.07.11 <- afgr.07.11 [, c(1,3,5,7,9,11)]
names(afgr.07.11)[2:6] <- paste ("Grad.w.Diploma.in.4.years", 2007:2011, "KDE", sep = ".")
#Save as R object to load in later script
afgr.new <- paste (wd, "objects", "afgr.07.10.csv", sep = "/")
write.table (afgr.07.11, file = afgr.new, sep = ",")
wd <- getwd()
file <- paste (wd, "data sets", "ACCOUNTABILITY_GRADUATION_RATE_COHORT.csv", sep = "/")
agrc <- read.csv (file, header = T, sep = ",", as.is = T,
strip.white = T)
agrc <- agrc [agrc$DISAGG_ORDER == "0" & agrc$SCH_NAME == "--District Total--",]
agrc <- agrc [, c(1, 4, 8)]
names(agrc)[3] <- paste ("Grad.w.Diploma.in.4.years", 2012, "KDE", sep = ".")
}
#build table for Kentucky state-wide reported graduation rates
library (ggplot2)
wd <- getwd()
#get grad rate data from KDE
file <- paste (wd, "data sets", "Grad Rate 2003-2007.csv", sep = "/")
gr <- read.csv (file, header = T, sep = ",", as.is = T,
strip.white = T)
#get afgr data from KDE
file <- paste (wd, "data sets", "AFGR_2012.csv", sep = "/")
afgr <- read.csv (file, header = T, sep = ",", as.is = T,
strip.white = T)
# get state totals for 2003-2007
gr <- gr[gr$DISTNAME == "STATE", ]
gr <- gr [, grep ("GRAD_", names (gr))]
#get state totals for 2007 to 2012
afgr <- afgr [afgr$School.Name == "STATE TOTAL" & afgr$Gender == "Total" &
afgr$Ethnicity == "Total", c(1, 5, 19)]
#combine in new table for 2003:2012
Year <- 2003:2012
State <- rep ("KY", 10)
Reported <- (c(as.numeric (gr[1, 1:5]), as.numeric (afgr[,3]))) / 100
Method <- c(rep ("NA", 5), rep ("AFGR", 5))
Ky.grad.rate <- (cbind (Year, State, Reported, Method))
Ky.grad.rate <- as.data.frame (Ky.grad.rate, row.names = 1:10, stringsAsFactors = F)
Ky.grad.rate$Year <- as.Date (Ky.grad.rate$Year, "%Y")
Ky.grad.rate$Reported <- as.numeric (Ky.grad.rate$Reported)
View(Ky.grad.rate)
#build table for Kentucky state-wide reported graduation rates
library (ggplot2)
wd <- getwd()
#get grad rate data from KDE
file <- paste (wd, "data sets", "Grad Rate 2003-2007.csv", sep = "/")
gr <- read.csv (file, header = T, sep = ",", as.is = T,
strip.white = T)
#get afgr data from KDE
file <- paste (wd, "data sets", "AFGR_2012.csv", sep = "/")
afgr <- read.csv (file, header = T, sep = ",", as.is = T,
strip.white = T)
# get state totals for 2003-2007
gr <- gr[gr$DISTNAME == "STATE", ]
gr <- gr [, grep ("GRAD_", names (gr))]
#get state totals for 2007 to 2012
afgr <- afgr [afgr$School.Name == "STATE TOTAL" & afgr$Gender == "Total" &
afgr$Ethnicity == "Total", c(1, 5, 19)]
View(afgr)
View(gr)
View(afgr)
View(gr)
file <- paste (wd, "data sets", "ACCOUNTABILITY_GRADUATION_RATE_COHORT.csv",
sep = "/")
agrc <- read.csv (file, header = T, sep = ",", as.is = T,
strip.white = T)
tail (agrc)
names (agrc)
agrc <- agrc [agrc$DISAGG_ORDER == "0", ]
agrc <- agrc [agrc$DISAGG_ORDER == "0" & agrc$DIST_NAME == "State", ]
agrc
42177/48976
names (agrc)
View(agrc)
agrc <- agrc [agrc$DISAGG_ORDER == "0" & agrc$DIST_NAME == "State", c(1, 4, 10) ]
Year <- 2002:2012
State <- rep ("KY", length (2002:2012))
View(gr)
View(afgr)
View(afgr)
View(agrc)
Reported <- (c(as.numeric (gr[1, 1:5]), as.numeric (afgr[,3]),
as.numeric (agrc[,3]))) / 100
Method <- c(rep ("Leaver", 5), rep ("AFGR", 5), rep ("Cohort", 1))
Ky.grad.rate <- (cbind (Year, State, Reported, Method))
View(Ky.grad.rate)
View(Ky.grad.rate)
Ky.grad.rate <- as.data.frame (Ky.grad.rate, row.names = 1:10, stringsAsFactors = F)
Ky.grad.rate$Year <- as.Date (Ky.grad.rate$Year, "%Y")
Ky.grad.rate$Reported <- as.numeric (Ky.grad.rate$Reported)
View(Ky.grad.rate)
#Save as R object to load in later script
file <- paste (wd, "objects", "State.grad.rate.2003.2012.KDE.csv", sep = "/")
write.table (Ky.grad.rate, file = file, sep = ",")
View(Ky.grad.rate)
file <- paste (wd, "objects", "State.grad.rate.2002.2012.KDE.csv", sep = "/")
write.table (Ky.grad.rate, file = file, sep = ",")
View(Ky.grad.rate)
