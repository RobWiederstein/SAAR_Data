Free and Reduced Lunch")
p1 <- p1 + ylim (c(.60, .95))
p1 <- p1 + scale_x_continuous (limits = c(2001, 2015), breaks = seq(from = 2001, to = 2015, by = 2))
p1 <- p1 + geom_line (aes(Year, Gr.8.Cohort.FRD.Q01))
p1 <- p1 + geom_line (aes (Year, Gr.8.Cohort.FRD.Q05))
p1 <- p1 + annotate ("text", x = 2012.5, y = .76, label = "Q05", size = 4)
p1 <- p1 + annotate ("text", x = 2012.5, y = .89, label = "Q01", size = 4)
p1 <- p1 + annotate ("text", x = 2012.5, y = .82, label = "All", size = 4, colour = "red")
p1 <- p1 + annotate("rect", xmin = 2002, xmax = 2014, ymin = .625, ymax = .925,
alpha = .1)
p1 <- p1 + annotate ("text", x = 2013, y = .64, label = "NCLB", size = 5)
p1
path <- paste (getwd(), "figure", sep = "/")
ggsave (p1, filename = "Eighth Grade Cohort Rate Disaggregated by Free and Reduced Lunch.pdf",
path = path,
units = c("in"),
height = 4, width = 6,
dpi = 300)
ls()
ls
missing
try
?try
missing()
missing
missing (a)
ls(patter = "M")
ls(pattern = "M")
ls()
!ls(list = "cum")
!ls(pattern = "cum")
ls(pattern = "^cum")
?ggplot (pairs)
library(ggplot2)
data(mtcars)
plotmatrix(mtcars[,1:3])
names (cum)
plotmatrix (cum [, c(7,8,9,10)])
qplot (cum[,7], cum [, 8])
qplot (Gr.8.Cohort.KDE, Gr.12.Gr.8.Ratio.KDE, data = cum)
qplot (Gr.8.Cohort.KDE, Gr.12.Gr.8.ratio.KDE, data = cum)
qplot (Gr.12.Gr.8.ratio.KDE, Year, data = cum)
qplot (Gr.12.Gr.8.ratio.KDE, Gr.12.Gr.9.ratio.KDE, data = cum)
mydf <- expand.grid(var1 = c('type1', 'type2', 'type3'), var2 = c(1, 2, 3))
View(mydf)
View(mydf)
?expand.grid
dim(mydf)
dim(mydf)[1]
?rnorm
rnorm(100, mean = 1, sd = 2)
plot (rnorm(100, mean = 1, sd = 2))
plot (density (rnorm(100, mean = 1, sd = 2)))
plot (density (rnorm(1000, mean = 1, sd = 2)))
mydf$var3 <- rnorm(dim(mydf)[1], mean=90, sd=10)
mydf$var3 <- rnorm(dim(mydf)[1], mean=90, sd=10)
mydf$var3
mydf$column2[mydf$var3 > 90] <- "big" #now my conditional replacement
mydf
mydf <- expand.grid(var1 = c('type1', 'type2', 'type3'), var2 = c(1, 2, 3))
mydf$var3 <- rnorm(dim(mydf)[1], mean=90, sd=10)
mydf$var3[3] <- 90
mydf$var3[4] <- NA
mydf$var3
is.na(mydf$var3[4])  # True!
mydf$column4[mydf$var3 == 90] <- "exactly 90!"  # possible unintended behavior w/ row 4?
mydf$column4[mydf$var3 > 90] <- "big"
mydf  # if there is a trap shouldn't mydf$column4[4] == "exactly 90!" ?
mydf <- expand.grid(var1 = c('type1', 'type2', 'type3'), var2 = c(1, 2, 3))
mydf$var3 <- rnorm(dim(mydf)[1], mean=90, sd=10)
mydf$var3[3] <- 90
mydf$var3[4] <- NA
is.na(mydf$var3[4])  # True!
mydf$column4[mydf$var3 == 90] <- "exactly 90!"  # possible unintended behavior w/ row 4?
mydf$column4
mydf$column4[mydf$var3 > 90] <- "big"
mydf  # if there is a trap shouldn't mydf$column4[4] == "exactly 90!" ?
dput(ddf)
structure(list(aa = c(1L, 5L, 9L), bb = c(2L, 6L, 10L),
cc = c(3L, 7L, 11L), dd = c(4L, 8L, 12L)),
.Names = c("aa", "bb", "cc",
"dd"), class = "data.frame", row.names = c(NA, -3L))
structure(list(aa = c(1L, 5L, 9L), bb = c(2L, 6L, 10L),
cc = c(3L, 7L, 11L), dd = c(4L, 8L, 12L)),
.Names = c("aa", "bb", "cc", "dd"),
class = "data.frame", row.names = c(NA, -3L))
dd <- data.frame(b = factor(c("Hi", "Med", "Hi", "Low"),
levels = c("Low", "Med", "Hi"), ordered = TRUE),
x = c("A", "D", "A", "C"), y = c(8, 3, 9, 9),
z = c(1, 1, 1, 2))
dd
dd[with(dd, order(-z, b)), ]
with(dd, order(-z, b))
df1 = data.frame(CustomerId=c(1:6),Product=c(rep("Toaster",3),rep("Radio",3)))
df2 = data.frame(CustomerId=c(2,4,6),State=c(rep("Alabama",2),rep("Ohio",1)))
df1
df2
merge(x = df1, y = df2, by = "CustomerId", all = TRUE)
View(df1)
View(df2)
merge(x = df1, y = df2, by = "CustomerId", all.x=TRUE)
merge(x = df1, y = df2, by = "CustomerId", all.y=TRUE)
merge(x = df1, y = df2, by = NULL)
merge(x = df1, y = df2, by = "CustomerId", all.x=TRUE)
t
dd <- data.frame(b = factor(c("Hi", "Med", "Hi", "Low"),
levels = c("Low", "Med", "Hi"), ordered = TRUE),
x = c("A", "D", "A", "C"),
y = c(8, 3, 9, 9),
z = c(1, 1, 1, 2))
View(dd)
str (dd)
dd <- data.frame(b = factor(c("Hi", "Med", "Hi", "Low"),
levels = c("Low", "Med", "Hi"), ordered = TRUE),
x = c("A", "D", "A", "C"),
y = c(8, 3, 9, 9),
z = c(1, 1, 1, 2), stringsAsFactors = F)
str (dd)
df1 = data.frame(CustomerId=c(1:6),Product=c(rep("Toaster",3),rep("Radio",3)))
df2 = data.frame(CustomerId=c(2,4,6),State=c(rep("Alabama",2),rep("Ohio",1)))
View(df1)
View(df2)
#build table for Kentucky state-wide reported graduation rates
#no computation--pulled Ky's number from KDE data
library (ggplot2)
wd <- getwd()
#get grad rate data from KDE
file <- paste (wd, "data sets", "Grad Rate 2003-2007.csv", sep = "/")
gr <- read.csv (file, header = T, sep = ",", as.is = T,
strip.white = T)
#get afgr data from KDE
file <- paste (wd, "data sets", "AFGR_2012.csv", sep = "/")
afgr <- read.csv (file, header = T, sep = ",", as.is = T,
strip.white = T)
#get AGRC data from KDE
file <- paste (wd, "data sets", "ACCOUNTABILITY_GRADUATION_RATE_COHORT.csv",
sep = "/")
agrc <- read.csv (file, header = T, sep = ",", as.is = T,
strip.white = T)
# get state totals for 2003-2007
gr <- gr[gr$DISTNAME == "STATE", ]
gr <- gr [, grep ("GRAD_", names (gr))]
#get state totals for 2007 to 2012
afgr <- afgr [afgr$School.Name == "STATE TOTAL" & afgr$Gender == "Total" &
afgr$Ethnicity == "Total", c(1, 5, 19)]
#get state totals for 2012-2013
agrc <- agrc [agrc$DISAGG_ORDER == "0" & agrc$DIST_NAME == "State",
c(1, 4, 10)]
#combine in new table from 2002-2003 to 2012-2013
Year <- 2002:2012
State <- rep ("KY", length (2002:2012))
Reported <- (c(as.numeric (gr[1, 1:5]), as.numeric (afgr[5:1,3]),
as.numeric (agrc[,3]))) / 100
Method <- c(rep ("Leaver", 5), rep ("AFGR", 5), rep ("Cohort", 1))
Ky.grad.rate <- (cbind (Year, State, Reported, Method))
Ky.grad.rate <- as.data.frame (Ky.grad.rate, row.names = 1:10, stringsAsFactors = F)
Ky.grad.rate$Year <- as.integer (Ky.grad.rate$Year)
Ky.grad.rate$Reported <- as.numeric (Ky.grad.rate$Reported)
#Save as R object to load in later script
file <- paste (wd, "objects", "State.grad.rate.2002.2012.KDE.csv", sep = "/")
View(Ky.grad.rate)
write.table (Ky.grad.rate, file = file, sep = ",")
wd <- getwd()
file <- paste (wd, "objects", "State.grad.rate.2002.2012.KDE.csv", sep = "/")
gr <- read.csv (file = file, sep = ",", header = T)
file <- paste (wd, "objects", "cum.2003.2012.csv", sep = "/")
cum <- read.csv (file = file, sep = ",", header = T)
Gr.8.Cohort.All    <-  tapply (cum$Gr.8.Cohort.KDE, INDEX = cum$Year, FUN = mean)
Gr.8.Cohort.All    <- c(NA, Gr.8.Cohort.All)
Reported <- as.data.frame(cbind(gr, Gr.8.Cohort.All))
View(Reported)
p <- ggplot (Reported, aes (Year, Gr.8.Cohort.All))
p <- p + geom_line(colour = "red")
p <- p + ylim (.65, .95)
p <- p + scale_x_continuous (limits = c(2001, 2015), breaks = seq(from = 2001, to = 2015, by = 2))
p <- p + geom_line (aes(Year, Reported))
p
View(Reported)
p <- ggplot (Reported, aes (Year, Gr.8.Cohort.All))
p <- p + geom_line(colour = "red")
p <- p + ylim (.65, .95)
p <- p + scale_x_continuous (limits = c(2001, 2015), breaks = seq(from = 2001, to = 2015, by = 2))
p <- p + geom_line (aes(Year, Reported[1:5]))
p
p <- ggplot (Reported, aes (Year, Gr.8.Cohort.All))
p <- p + geom_line(colour = "red")
p <- p + ylim (.65, .95)
p <- p + scale_x_continuous (limits = c(2001, 2015), breaks = seq(from = 2001, to = 2015, by = 2))
p <- p + geom_line (aes(Year, Reported))
p
p <- ggplot (Reported, aes (Year, Gr.8.Cohort.All))
p <- p + geom_line(colour = "red")
p <- p + ylim (.65, .95)
p <- p + scale_x_continuous (limits = c(2001, 2015), breaks = seq(from = 2001, to = 2015, by = 2))
p <- p + geom_line (aes(Year, Reported), colour = Method)
p
str (Reported)
Reported$Reported (name)
names (Reported)
?names
grep ("Reported", names (Reported))
names (grep ("Reported", names (Reported)))
names (Reported)[(grep ("Reported", names (Reported)))]
names (Reported)[(grep ("Reported", names (Reported)))] <- "Leaver"
names (Reported)
View(Reported)
Reported$AFGR <- Reported [5:9, 3]
AFGR <- c(rep(NA, 5), Reported$Leaver[6:10], NA)
length (AFGR)
Cohort <- c(rep(NA, 10), Reported$Leaver[11]))
Cohort <- c(rep(NA, 10), Reported$Leaver[11])
cbind(Reported[,1:3], AFGR, Cohort, Reported$Gr.8.Cohort.All)
Reported <- cbind(Reported[,1:3], AFGR, Cohort, Reported$Gr.8.Cohort.All)
View(Reported)
Reported$Leaver <- c(Reported$Leaver[1:5], rep (NA, 6))
View(Reported)
p <- ggplot (Reported, aes (Year, Gr.8.Cohort.All))
p <- p + geom_line(colour = "red")
p <- p + ylim (.65, .95)
p <- p + scale_x_continuous (limits = c(2001, 2015), breaks = seq(from = 2001, to = 2015, by = 2))
p <- p + geom_line (aes(Year, Reported), colour = Method)
names (Reported)
p <- p + geom_line (aes(Year, Leaver), colour = Method)
p <- p + geom_line (aes(Year, Leaver), colour = blue)
p <- p + geom_line (aes(Year, Leaver), colour = "blue")
p
p <- p + geom_line (aes(Year, AFGR), colour = "yellow")
p
p <- p + geom_line (aes(Year, AFGR), colour = "green")
p
p <- p + geom_line (aes(Year, Cohort), colour = "blue")
p
p <- p + geom_point (aes(Year, Cohort), colour = "blue")
p
p <- ggplot (Reported, aes (Year, Gr.8.Cohort.All))
p <- p + geom_line(colour = "red")
p <- p + ylim (.65, .95)
p <- xlab("Year") + ylab ("Rate") + ggtitle ("KDE Reported Graduation Rates versus
Eighth Grade Cohort")
p <- p + scale_x_continuous (limits = c(2001, 2015), breaks = seq(from = 2001, to = 2015, by = 2))
p <- p + geom_line (aes(Year, Leaver), colour = "blue")
p <- p + geom_line (aes(Year, AFGR), colour = "green")
p <- p + geom_point (aes(Year, Cohort), colour = "blue")
p
p <- ggplot (Reported, aes (Year, Gr.8.Cohort.All))
p <- p + geom_line(colour = "red")
p <- p + ylim (.65, .95)
p <- p + xlab("Year") + ylab ("Rate") + ggtitle ("KDE Reported Graduation Rates versus
Eighth Grade Cohort")
p <- p + scale_x_continuous (limits = c(2001, 2015), breaks = seq(from = 2001, to = 2015, by = 2))
p <- p + geom_line (aes(Year, Leaver), colour = "blue")
p <- p + geom_line (aes(Year, AFGR), colour = "green")
p <- p + geom_point (aes(Year, Cohort), colour = "blue")
p
p <- ggplot (Reported, aes (Year, Gr.8.Cohort.All))
p <- p + geom_line(colour = "red")
p <- p + ylim (.70, .90)
p <- p + xlab("Year") + ylab ("Rate") + ggtitle ("KDE Reported Graduation Rates versus
Eighth Grade Cohort")
p <- p + scale_x_continuous (limits = c(2001, 2015), breaks = seq(from = 2001, to = 2015, by = 2))
p <- p + geom_line (aes(Year, Leaver), colour = "blue")
p <- p + geom_line (aes(Year, AFGR), colour = "green")
p <- p + geom_point (aes(Year, Cohort), colour = "blue")
p
p <- ggplot (Reported, aes (Year, Gr.8.Cohort.All))
p <- p + geom_line(colour = "red")
p <- p + ylim (.65, .95)
p <- p + xlab("Year") + ylab ("Rate") + ggtitle ("KDE Reported Graduation Rates versus
Eighth Grade Cohort")
p <- p + scale_x_continuous (limits = c(2001, 2015), breaks = seq(from = 2001, to = 2015, by = 2))
p <- p + geom_line (aes(Year, Leaver), colour = "blue")
p <- p + geom_line (aes(Year, AFGR), colour = "green")
p <- p + geom_point (aes(Year, Cohort), colour = "blue")
p
p <- ggplot (Reported, aes (Year, Gr.8.Cohort.All))
p <- p + geom_line(colour = "red")
p <- p + ylim (0, 1)
p <- p + xlab("Year") + ylab ("Rate") + ggtitle ("KDE Reported Graduation Rates versus
Eighth Grade Cohort")
p <- p + scale_x_continuous (limits = c(2001, 2015), breaks = seq(from = 2001, to = 2015, by = 2))
p <- p + geom_line (aes(Year, Leaver), colour = "blue")
p <- p + geom_line (aes(Year, AFGR), colour = "green")
p <- p + geom_point (aes(Year, Cohort), colour = "blue")
p
p <- ggplot (Reported, aes (Year, Gr.8.Cohort.All))
p <- p + geom_line(colour = "red")
p <- p + ylim (.65, .95)
p <- p + xlab("Year") + ylab ("Rate") + ggtitle ("KDE Reported Graduation Rates versus
Eighth Grade Cohort")
p <- p + scale_x_continuous (limits = c(2001, 2015), breaks = seq(from = 2001, to = 2015, by = 2))
p <- p + geom_line (aes(Year, Leaver), colour = "blue")
p <- p + geom_line (aes(Year, AFGR), colour = "green")
p <- p + geom_point (aes(Year, Cohort), colour = "blue")
p
p <- ggplot (Reported, aes (Year, Gr.8.Cohort.All))
p <- p + geom_line(colour = "red")
p <- p + ylim (.65, .95)
p <- p + xlab("Year") + ylab ("Rate") + ggtitle ("KDE Reported Graduation Rates versus
Eighth Grade Cohort")
p <- p + scale_x_continuous (limits = c(2001, 2015), breaks = seq(from = 2001, to = 2015, by = 2))
p <- p + geom_line (aes(Year, Leaver)
p <- p + geom_line (aes(Year, AFGR)
p <- p + geom_point (aes(Year, Cohort)
p
p <- ggplot (Reported, aes (Year, Gr.8.Cohort.All))
p <- p + geom_line(colour = "red")
p <- p + ylim (.65, .95)
p <- p + xlab("Year") + ylab ("Rate") + ggtitle ("KDE Reported Graduation Rates versus
Eighth Grade Cohort")
p <- p + scale_x_continuous (limits = c(2001, 2015), breaks = seq(from = 2001, to = 2015, by = 2))
p <- p + geom_line (aes(Year, Leaver))
p <- p + geom_line (aes(Year, AFGR))
p <- p + geom_point (aes(Year, Cohort))
p
p <- ggplot (Reported, aes (Year, Gr.8.Cohort.All))
p <- p + geom_line(colour = "red")
p <- p + ylim (.65, .95)
p <- p + xlab("Year") + ylab ("Rate") + ggtitle ("KDE Reported Graduation Rates versus
Eighth Grade Cohort")
p <- p + scale_x_continuous (limits = c(2001, 2015), breaks = seq(from = 2001, to = 2015, by = 2))
p <- p + geom_line (aes(Year, Leaver))
p <- p + geom_line (aes(Year, AFGR))
p <- p + geom_point (aes(Year, Cohort), shape = 2, size = 9)
p
p <- p + geom_point (aes(Year, Cohort), shape = 2, size = 2)
p
p <- p + geom_point (aes(Year, Cohort), shape = 1, size = 2)
p
p <- ggplot (Reported, aes (Year, Gr.8.Cohort.All))
p <- p + geom_line(colour = "red")
p <- p + ylim (.65, .95)
p <- p + xlab("Year") + ylab ("Rate") + ggtitle ("KDE Reported Graduation Rates versus
Eighth Grade Cohort")
p <- p + scale_x_continuous (limits = c(2001, 2015), breaks = seq(from = 2001, to = 2015, by = 2))
p <- p + geom_line (aes(Year, Leaver))
p <- p + geom_line (aes(Year, AFGR))
p <- p + geom_point (aes(Year, Cohort), shape = 1, size = 2)
p
p <- ggplot (Reported, aes (Year, Gr.8.Cohort.All))
p <- p + geom_line(colour = "red")
p <- p + ylim (.65, .95)
p <- p + xlab("Year") + ylab ("Rate") + ggtitle ("KDE Reported Graduation Rates versus
Eighth Grade Cohort")
p <- p + scale_x_continuous (limits = c(2001, 2015), breaks = seq(from = 2001, to = 2015, by = 2))
p <- p + geom_line (aes(Year, Leaver))
p <- p + geom_line (aes(Year, AFGR))
p <- p + geom_point (aes(Year, Cohort), shape = 1, size = 2, fill = "red")
p
p <- ggplot (Reported, aes (Year, Gr.8.Cohort.All))
p <- p + geom_line(colour = "red")
p <- p + ylim (.65, .95)
p <- p + xlab("Year") + ylab ("Rate") + ggtitle ("KDE Reported Graduation Rates versus
Eighth Grade Cohort")
p <- p + scale_x_continuous (limits = c(2001, 2015), breaks = seq(from = 2001, to = 2015, by = 2))
p <- p + geom_line (aes(Year, Leaver))
p <- p + geom_line (aes(Year, AFGR))
p <- p + geom_point (aes(Year, Cohort))
p
p <- ggplot (Reported, aes (Year, Gr.8.Cohort.All))
p <- p + geom_line(colour = "red")
p <- p + ylim (.65, .95)
p <- p + xlab("Year") + ylab ("Rate") + ggtitle ("KDE Reported Graduation Rates versus
Eighth Grade Cohort")
p <- p + scale_x_continuous (limits = c(2001, 2015), breaks = seq(from = 2001, to = 2015, by = 2))
p <- p + geom_line (aes(Year, Leaver))
p <- p + annotate ("text", x = 2003, y = .85, "Leaver")
p <- p + geom_line (aes(Year, AFGR))
p <- p + geom_point (aes(Year, Cohort))
p
p <- ggplot (Reported, aes (Year, Gr.8.Cohort.All))
p <- p + geom_line(colour = "red")
p <- p + ylim (.65, .95)
p <- p + xlab("Year") + ylab ("Rate") + ggtitle ("KDE Reported Graduation Rates versus
Eighth Grade Cohort")
p <- p + scale_x_continuous (limits = c(2001, 2015), breaks = seq(from = 2001, to = 2015, by = 2))
p <- p + geom_line (aes(Year, Leaver))
p <- p + annotate ("text", x = 2003, y = .85, "Leaver")
p <- p + geom_line (aes(Year, AFGR))
p <- p + geom_point (aes(Year, Cohort))
p
p <- ggplot (Reported, aes (Year, Gr.8.Cohort.All))
p <- p + geom_line(colour = "red")
p <- p + ylim (.65, .95)
p <- p + xlab("Year") + ylab ("Rate") + ggtitle ("KDE Reported Graduation Rates versus
Eighth Grade Cohort")
#p <- p + scale_x_continuous (limits = c(2001, 2015), breaks = seq(from = 2001, to = 2015, by = 2))
p <- p + geom_line (aes(Year, Leaver))
p <- p + annotate ("text", x = 2003, y = .85, "Leaver")
p <- p + geom_line (aes(Year, AFGR))
p <- p + geom_point (aes(Year, Cohort))
p
#check absolute differences between 8th Graders and number of
#diploma recipients
library (ggplot2)
wd <- getwd()
file <- paste (wd, "objects", "SAAR.1999.2013.csv", sep = "/")
saar <- read.csv (file = file, sep = ",", as.is = T, header = T)
file <- paste (wd, "data sets", "Grad Rate 2003-2007.csv", sep = "/")
gr <- read.csv (file = file, sep = ",", as.is = T, header = T)
file <- paste (wd, "objects", "afgr.07.11.csv", sep = "/")
afgr <- read.csv (file = file, sep = ",", as.is = T, header = T)
file <- paste (wd, "objects", "agrc.12.csv", sep = "/")
agrc <- read.csv (file = file, sep = ",", as.is = T, header = T)
Gr8E <- saar [, c(1, grep ("GR8E", names (saar)))]
Gr8E.tot <- colSums (Gr8E[,2:15], na.rm = T)
gr <- gr [, c(4, 5, grep ("GRADS_4YR", names (gr)))]
gr <- gr [gr$SCHNAME == "---DISTRICT TOTAL---", ]
gr <- gr[, -2]
#total diplomas by year
gr <- colSums (gr [, 2:6], na.rm = T)
afgr <-  colSums (afgr[, 2:6 ], na.rm = T)
agrc <- sum (agrc [, 3], na.rm = T)
Diplomas <- (c(rep (NA, 3), gr, afgr, agrc))
Year <- (1999:2012)
Diplomas <- as.data.frame (cbind (Year, Diplomas, Gr8E.tot), stringsAsFactors = F)
Missing.Students <- Diplomas$Gr8E.tot[1:9]-Diplomas$Diplomas[6:14]
names (Missing.Students) <- 2004:2012
Missing.Students <- c(rep(NA, 5), Missing.Students)
Diplomas <- cbind (Diplomas, Missing.Students)
#plot
p1 <- ggplot (Diplomas, aes(Year, Missing.Students))
p1 <- p1 + geom_line (colour = "red")
p1 <- p1 + xlab("Year") + ylab("Missing Students") + ggtitle ("Difference in 8th Grade Enrollments
Diploma Recipients")
p1 <- p1 + scale_x_continuous (limits = c(2003, 2012), breaks = seq(from = 2003, to = 2012, by = 2))
p1 <- p1 + ylim(0, 15000)
p1
path <- paste (getwd(), "figure", sep = "/")
ggsave (p1, filename = "Number of Missing Students by Year.pdf",
path = path,
units = c("in"),
height = 4, width = 6,
dpi = 300)
}     #Missing Students declined from 12000 to 9000
Fig.Reported  <- function (){
wd <- getwd()
file <- paste (wd, "objects", "State.grad.rate.2002.2012.KDE.csv", sep = "/")
gr <- read.csv (file = file, sep = ",", header = T)
file <- paste (wd, "objects", "cum.2003.2012.csv", sep = "/")
cum <- read.csv (file = file, sep = ",", header = T)
Gr.8.Cohort.All    <-  tapply (cum$Gr.8.Cohort.KDE, INDEX = cum$Year, FUN = mean)
Gr.8.Cohort.All    <- c(NA, Gr.8.Cohort.All)
Reported <- as.data.frame(cbind(gr, Gr.8.Cohort.All))
p <- ggplot (Reported, aes (Year, Gr.8.Cohort.All))
p <- p + geom_line(colour = "red")
p <- p + ylim (.65, .95)
p <- p + xlab("Year") + ylab ("Rate") + ggtitle ("KDE Reported Graduation Rates versus
Eighth Grade Cohort")
#p <- p + scale_x_continuous (limits = c(2001, 2015), breaks = seq(from = 2001, to = 2015, by = 2))
p <- p + geom_line (aes(Year, Leaver))
p <- p + annotate ("text", x = 2003, y = .85, "Leaver")
p <- p + geom_line (aes(Year, AFGR))
p <- p + geom_point (aes(Year, Cohort))
p
p <- ggplot (Reported, aes (Year, Gr.8.Cohort.All))
wd <- getwd()
file <- paste (wd, "objects", "State.grad.rate.2002.2012.KDE.csv", sep = "/")
gr <- read.csv (file = file, sep = ",", header = T)
file <- paste (wd, "objects", "cum.2003.2012.csv", sep = "/")
cum <- read.csv (file = file, sep = ",", header = T)
Gr.8.Cohort.All    <-  tapply (cum$Gr.8.Cohort.KDE, INDEX = cum$Year, FUN = mean)
Gr.8.Cohort.All    <- c(NA, Gr.8.Cohort.All)
Reported <- as.data.frame(cbind(gr, Gr.8.Cohort.All))
p <- ggplot (Reported, aes (Year, Gr.8.Cohort.All))
p <- p + geom_line(colour = "red")
p <- p + ylim (.65, .95)
p <- p + xlab("Year") + ylab ("Rate") + ggtitle ("KDE Reported Graduation Rates versus
Eighth Grade Cohort")
#p <- p + scale_x_continuous (limits = c(2001, 2015), breaks = seq(from = 2001, to = 2015, by = 2))
p <- p + geom_line (aes(Year, Leaver))
p <- p + annotate ("text", x = 2003, y = .85, "Leaver")
p <- p + geom_line (aes(Year, AFGR))
p <- p + geom_point (aes(Year, Cohort))
p
View(Reported)
wd <- getwd()
file <- paste (wd, "objects", "State.grad.rate.2002.2012.KDE.csv", sep = "/")
gr <- read.csv (file = file, sep = ",", header = T)
file <- paste (wd, "objects", "cum.2003.2012.csv", sep = "/")
cum <- read.csv (file = file, sep = ",", header = T)
Gr.8.Cohort.All    <-  tapply (cum$Gr.8.Cohort.KDE, INDEX = cum$Year, FUN = mean)
Gr.8.Cohort.All    <- c(NA, Gr.8.Cohort.All)
Reported <- as.data.frame(cbind(gr, Gr.8.Cohort.All))
names (Reported)[(grep ("Reported", names (Reported)))] <- "Leaver"
AFGR <- c(rep(NA, 5), Reported$Leaver[6:10], NA)
Cohort <- c(rep(NA, 10), Reported$Leaver[11]))
Cohort <- c(rep(NA, 10), Reported$Leaver[11])
Reported <- cbind(Reported[,1:3], AFGR, Cohort, Reported$Gr.8.Cohort.All)
Reported$Leaver <- c(Reported$Leaver[1:5], rep (NA, 6))
View(Reported)
p <- ggplot (Reported, aes (Year, Gr.8.Cohort.All))
p <- p + geom_line(colour = "red")
p <- p + ylim (.65, .95)
p <- p + xlab("Year") + ylab ("Rate") + ggtitle ("KDE Reported Graduation Rates versus
Eighth Grade Cohort")
#p <- p + scale_x_continuous (limits = c(2001, 2015), breaks = seq(from = 2001, to = 2015, by = 2))
p <- p + geom_line (aes(Year, Leaver))
p <- p + annotate ("text", x = 2003, y = .85, "Leaver")
p <- p + geom_line (aes(Year, AFGR))
p <- p + geom_point (aes(Year, Cohort))
p
p <- ggplot (Reported, aes (Year, Gr.8.Cohort.All))
p <- p + geom_line(colour = "red")
p <- p + ylim (.65, .95)
p <- p + xlab("Year") + ylab ("Rate") + ggtitle ("KDE Reported Graduation Rates versus
Eighth Grade Cohort")
p <- p + scale_x_continuous (limits = c(2001, 2015), breaks = seq(from = 2001, to = 2015, by = 2))
p <- p + geom_line (aes(Year, Leaver))
p <- p + annotate ("text", x = 2003, y = .85, "Leaver")
p <- p + geom_line (aes(Year, AFGR))
p <- p + geom_point (aes(Year, Cohort))
p
