Year <- rep(2010, 169)
District <- q[,1]
Tot.Students <- as.numeric(q[,121])
FRL.Pct <- round (as.numeric(q[,182])/as.numeric(q[,121]), digits = 4)
FRL.Decile <- cut_number(FRL.Pct, 10)
E.Grade.Cohort.KDE <- round(as.integer(q[,197])/as.integer(q[,21]), digits = 4)
N.Grade.Cohort.KDE <- round (as.integer(q[,197]) / as.integer(q[,24]), digits = 4)
E.Grade.Cohort.CCD <- round (as.integer(q[,197]) / as.integer (q [, 150]), digits = 4)
E.to.Twelth.Grade.KDE <- round (as.integer (q[, 20]) / as.integer (q[,37]), digits = 4)
N.to.Twelth.Grade.KDE <- round (as.integer (q[,24]) / as.integer (q[, 37]), digits = 4)
q2010 <- cbind (District, Year, Tot.Students, FRL.Pct, FRL.Decile, E.Grade.Cohort.KDE,
N.Grade.Cohort.KDE, E.Grade.Cohort.CCD, E.to.Twelth.Grade.KDE,
N.to.Twelth.Grade.KDE)
View(`q2010`)
colMeans(q2010)
colMeans(q2010[,c(3,4:10)])
q2010 <-as.data.frame(q2010)
colMeans(q2010[,c(3,4:10)])
colMeans(q2010[,3])
str(q2010)
saar <- read.table("SAAR.1999.2012.csv", header = TRUE, sep = ",",
colClasses = "character")
NCES <- read.csv(file = "ELSI_csv_export_6353176361250618987912.csv",
skip = 6, sep = ",", nrow = 178,
strip.white = TRUE, header = TRUE,
colClasses = "character")
afgr <- read.table("afgr.08.12.csv", header = TRUE, sep = ",",
colClasses = "character")
#load library ggplot2 for cut_number function
library("ggplot2", lib.loc="C:/Users/Cathy/R/win-library/3.0")
#match NCES column, school district, for merge with SAAR
a <- as.character (saar[,1])
b <- NCES [,1]
b[1:77] <- a[1:77]
b[79:112] <- a[78:111]
b[114:144] <- a[112:142]
b[146] <- a[143]
b[147] <- b[144]
b[149:178] <- a[145:174]
NCES[,1] <- b
names(NCES)[1] <- "DISTRICT"
rm(a , b)
q <- merge(saar, NCES, by= "DISTRICT")
q <- merge(q, afgr, by= "DISTRICT")
Year <- rep(2010, 169)
District <- q[,1]
Tot.Students <- as.numeric(q[,121])
FRL.Pct <- round (as.numeric(q[,182])/as.numeric(q[,121]), digits = 4)
FRL.Decile <- cut_number(FRL.Pct, 10)
E.Grade.Cohort.KDE <- round(as.integer(q[,197])/as.integer(q[,21]), digits = 4)
N.Grade.Cohort.KDE <- round (as.integer(q[,197]) / as.integer(q[,24]), digits = 4)
E.Grade.Cohort.CCD <- round (as.integer(q[,197]) / as.integer (q [, 150]), digits = 4)
E.to.Twelth.Grade.KDE <- round (as.integer (q[, 20]) / as.integer (q[,37]), digits = 4)
N.to.Twelth.Grade.KDE <- round (as.integer (q[,24]) / as.integer (q[, 37]), digits = 4)
q2010 <- cbind (District, Year, Tot.Students, FRL.Pct, FRL.Decile, E.Grade.Cohort.KDE,
N.Grade.Cohort.KDE, E.Grade.Cohort.CCD, E.to.Twelth.Grade.KDE,
N.to.Twelth.Grade.KDE)
View(`q2010`)
str(q2010)
q2010 <- as.data.frame(q2010)
str(q2010)
Year <- rep(2010, 169)
District <- q[,1]
Tot.Students <- as.numeric(q[,121])
FRL.Pct <- round (as.numeric(q[,182])/as.numeric(q[,121]), digits = 4)
FRL.Decile <- cut_number(FRL.Pct, 10)
E.Grade.Cohort.KDE <- round(as.integer(q[,197])/as.integer(q[,21]), digits = 4)
N.Grade.Cohort.KDE <- round (as.integer(q[,197]) / as.integer(q[,24]), digits = 4)
E.Grade.Cohort.CCD <- round (as.integer(q[,197]) / as.integer (q [, 150]), digits = 4)
E.to.Twelth.Grade.KDE <- round (as.integer (q[, 20]) / as.integer (q[,37]), digits = 4)
N.to.Twelth.Grade.KDE <- round (as.integer (q[,24]) / as.integer (q[, 37]), digits = 4)
q2010 <- cbind (District, Year, Tot.Students, FRL.Pct, FRL.Decile, E.Grade.Cohort.KDE,
N.Grade.Cohort.KDE, E.Grade.Cohort.CCD, E.to.Twelth.Grade.KDE,
N.to.Twelth.Grade.KDE)
q2010 < as.data.frame(q2010, stringsAsFactors = FALSE)
View(`q2010`)
View(`q2010`)
str(q2010)
q2010 < as.data.frame(q2010, stringsAsFactors = FALSE)
?load
?source
source ("SAAR Cleanup Scripts.R")
#set colClasses
set.colClass.1<-c(rep("character", 2), rep("integer", 13) )
#read KDE data
SAAR1999<-read.csv("SAAR1999.csv", skip=6, nrow=176, header=TRUE, fill=TRUE, blank.lines.skip=TRUE,
strip.white=TRUE, colClasses=c("character", rep("integer", 13)))
SAAR2000<-read.csv("SAAR2000.csv", skip=6, nrow=176, header=TRUE, fill=TRUE, blank.lines.skip=TRUE,
strip.white=TRUE, colClasses=c("character", rep("integer", 13)))
SAAR2001<-read.csv("SAAR2001.csv", skip=6, nrow=176, header=TRUE, fill=TRUE, blank.lines.skip=TRUE,
strip.white=TRUE, colClasses=c("character", rep("integer", 13)))
SAAR2002<-read.csv("SAAR2002.csv", skip=6, nrow=176, header=TRUE, fill=TRUE, blank.lines.skip=TRUE,
strip.white=TRUE, colClasses=c("character", rep("integer", 13)))
SAAR2003<-read.csv("SAAR2003.csv", skip=6, nrow=176, header=TRUE, fill=TRUE, blank.lines.skip=TRUE,
strip.white=TRUE, colClasses=c("character", rep("integer", 13)))
SAAR2004<-read.csv("SAAR2004.csv", header=TRUE, sep=",", blank.lines.skip=TRUE, fill=TRUE, skip=6,
colClasses=c("numeric", "character", rep("integer", 13)),
strip.white=TRUE, nrow=351)
SAAR2005<-read.csv("SAAR2005.csv", header=TRUE, sep=",", blank.lines.skip=TRUE, fill=TRUE, skip=6,
colClasses=c("character", rep("integer", 13)),
strip.white=TRUE, nrow=176)
SAAR2006<-read.csv("SAAR2006.csv", header=TRUE, sep=",", blank.lines.skip=TRUE, fill=TRUE, skip=6,
colClasses=c("character", "character", rep("integer", 13)),
strip.white=TRUE)
SAAR2007<-read.csv("SAAR2007.csv", header=TRUE, sep=",", blank.lines.skip=TRUE, fill=TRUE, skip=6,
colClasses=c("character", "character", rep("integer", 13)),
strip.white=TRUE)
SAAR2008<-read.csv("SAAR2008.csv", header=TRUE, sep=",", blank.lines.skip=TRUE, fill=TRUE, skip=6,
colClasses=c("character", "character", rep("integer", 15)),
strip.white=TRUE)
SAAR2009<-read.csv("SAAR2009.csv", header=TRUE, sep=",", blank.lines.skip=TRUE, fill=TRUE, skip=6,
colClasses=c("character", "character", rep("integer", 15)),
strip.white=TRUE)
SAAR2010<-read.csv("SAAR2010.csv", header=TRUE, sep=",", blank.lines.skip=TRUE, fill=TRUE, skip=6,
colClasses=c("character", "character", rep("integer", 15)),
strip.white=TRUE)
SAAR2011<-read.csv("SAAR2011.csv", header=TRUE, sep=",", blank.lines.skip=TRUE, fill=TRUE, skip=6,
colClasses=c("character", "character", rep("integer", 15)),
strip.white=TRUE)
SAAR2012<-read.csv("SAAR2012.csv", header=TRUE, sep=",", blank.lines.skip=TRUE, fill=TRUE, skip=6,
colClasses=c("character", "character", rep("integer", 15)),
strip.white=TRUE)
#load libraries
library("gdata", lib.loc="C:/Users/Cathy/R/win-library/3.0")
#build index column for merge using 1999 as base year
district.index<-SAAR1999[,1]                                      #school districts
district.index<-sub("^[0-9][0-9][0-9].", "" , district.index)     #remove number in front
district.index<-sub("Independent", "Independen", district.index) #add "t" to independent
district.index<-sub("Independen", "Independ", district.index)
district.index<-sub("Independ", "Independent", district.index)
district.index<-as.data.frame(district.index)
names(district.index)<-c("DISTRICT")
#clean 1999
temp<-sub("^[0-9][0-9][0-9].", "" , SAAR1999[,1])
temp<-sub("Independent", "Independen", temp)
temp<-sub("Independen", "Independ", temp)
temp<-sub("Independ", "Independent",temp)
SAAR1999[,1]<-temp
setdiff(district.index[,1], SAAR1999[,1])
setdiff(SAAR1999[,1],district.index[,1])
#clean 2000
temp<-sub("^[0-9][0-9][0-9].", "" , SAAR2000$DISTRICT)
temp<-sub("Independent", "Independen", temp)
temp<-sub("Independen", "Independ", temp)
temp<-sub("Independ", "Independent", temp)
temp<-sub("Erlanger-Elsmere Independent.", "Erlanger-Elsmere Independent", temp)
temp<-sub("Walton-Verona Independent", "Walton Verona Independent", temp)
SAAR2000$DISTRICT<-temp
setdiff(district.index$DISTRICT, SAAR2000$DISTRICT)
setdiff(SAAR2000$DISTRICT, district.index$DISTRICT)
#clean 2001
temp<-sub("^[0-9][0-9][0-9].", "" , SAAR2001$DISTRICT)
temp<-sub("Independent", "Independen", temp)
temp<-sub("Independen", "Independ", temp)
temp<-sub("Independ", "Independent", temp)
temp<-sub("Walton-Verona Independent", "Walton Verona Independent", temp)
SAAR2001$DISTRICT<-temp
setdiff(district.index$DISTRICT, SAAR2001$DISTRICT)
setdiff(SAAR2001$DISTRICT, district.index$DISTRICT)
#clean 2002
temp<-sub("^[0-9][0-9][0-9].", "" , SAAR2002$DISTRICT)
temp<-sub("Independent", "Independen", temp)
temp<-sub("Independen", "Independ", temp)
temp<-sub("Independ", "Independent", temp)
temp<-sub("Walton-Verona Independent", "Walton Verona Independent", temp)
SAAR2002$DISTRICT<-temp
setdiff(district.index$DISTRICT, SAAR2002$DISTRICT)
setdiff(SAAR2002$DISTRICT, SAAR.1999.2012$DISTRICT)
#clean 2003
temp<-sub("^[0-9][0-9][0-9].", "" , SAAR2003$DISTRICT)
temp<-sub("Independent", "Independen", temp)
temp<-sub("Independen", "Independ", temp)
temp<-sub("Independ", "Independent", temp)
temp<-sub("Walton-Verona Independent", "Walton Verona Independent", temp)
SAAR2003$DISTRICT<-temp
setdiff(district.index$DISTRICT, SAAR2003$DISTRICT)
setdiff(SAAR2003$DISTRICT, district.index$DISTRICT)
#clean 2004--extra variable--school number
SAAR2004<-SAAR2004[!is.na(SAAR2004$X11),]
temp<-SAAR2004$District
temp<-sub("Walton-Verona Independent", "Walton Verona Independent", temp)
SAAR2004[,2]<-temp
SAAR2004<-SAAR2004[,2:15]
setdiff(district.index$DISTRICT, SAAR2004$District)
setdiff(SAAR2004$District, district.index$DISTRICT)
#capitalize column "DISTRICT"
a<-names(SAAR2004)
a[1]<-"DISTRICT"
names(SAAR2004)<-a
rm(a)
#clean 2005
temp<-sub("^[0-9][0-9][0-9].", "" , SAAR2005$DISTRICT)
temp<-sub("Walton-Verona Independent", "Walton Verona Independent", temp)
SAAR2005$DISTRICT<-temp
setdiff(district.index$DISTRICT, SAAR2005$DISTRICT)
setdiff(SAAR2005$DISTRICT, district.index$DISTRICT)
#clean 2006
SAAR2006<-SAAR2006[!is.na(SAAR2006$X11),]
SAAR2006<-SAAR2006[nchar(SAAR2006[,2])==0,]
SAAR2006[165,1]<-"Walton Verona Independent"
SAAR2006<-SAAR2006[,c(1, 3:15)]
SAAR2006<-SAAR2006[1:175,]
a<-names(SAAR2006)
a[1]<-"DISTRICT"
names(SAAR2006)<-a
setdiff(district.index$DISTRICT, SAAR2006$DISTRICT) #Harrodsburg Independent missing
setdiff(SAAR2006$DISTRICT, district.index$DISTRICT)
#clean 2007
SAAR2007<-SAAR2007[,1:15]
temp<-subset(SAAR2007, (grepl("TOTALS", SAAR2007[,1])))  #extract districts by totals
temp[,1]<-sub("TOTALS for ", "",temp[,1])
temp<-temp[,c(1, 3:15)]
temp[,1]<-trim(temp[,1])
SAAR2007<-temp
SAAR2007[164,1]<-"Walton Verona Independent"
SAAR2007[144,1]<-"Raceland Independent"
setdiff(district.index$DISTRICT, SAAR2007$DISTRICT) #Providence Ind./Harrodsburg Ind. missing, Raceland combined with Worthington?
setdiff(SAAR2007$DISTRICT, district.index$DISTRICT)
setdiff(district.index$DISTRICT, SAAR2006$DISTRICT) #Harrodsburg Independent missing
#clean 2008
temp<-subset(SAAR2008, (grepl("TOTALS", SAAR2008[,1])))  #extract districts by totals
temp[,1]<-sub("TOTALS for ", "",temp[,1])
temp<-temp[,c(1, 3:17)]
temp[,1]<-trim(temp[,1])
SAAR2008<-temp
SAAR2008[144,1]<-"Raceland Independent"
SAAR2008[164,1]<-"Walton Verona Independent"
setdiff(district.index$DISTRICT, SAAR2008$DISTRICT) #Providence & Harrodsburg still missing
setdiff(SAAR2008$DISTRICT, district.index$DISTRICT)
#clean 2009
temp<-subset(SAAR2009, (grepl("TOTALS", SAAR2009[,1])))
temp[,1]<-sub("TOTALS for ", "",temp[,1])
temp[,1]<-trim(temp[,1])
SAAR2009<-temp
SAAR2009[86,1]<-"Jefferson County"
SAAR2009[144,1]<-"Raceland Independent"
SAAR2009[164,1]<-"Walton Verona Independent"
SAAR2009<-SAAR2009[,c(1, 3:17)]
setdiff(district.index$DISTRICT, SAAR2009$DISTRICT) #Providence & Harrodsburg still missing
setdiff(SAAR2009$DISTRICT, district.index$DISTRICT)
#clean 2010
temp<-subset(SAAR2010, (grepl("TOTALS", SAAR2010[,1])))
temp[,1]<-sub("TOTALS for ", "",temp[,1])
temp[,1]<-trim(temp[,1])
temp<-temp[,c(1, 4:17)]
SAAR2010<-temp
SAAR2010[86,1]<-"Jefferson County"
SAAR2010[144,1]<-"Raceland Independent"
SAAR2010[164,1]<-"Walton Verona Independent"
setdiff(district.index$DISTRICT, SAAR2010$DISTRICT) #Providence & Harrodsburg still missing
setdiff(SAAR2010$DISTRICT, district.index$DISTRICT)
#clean 2011
temp<-subset(SAAR2011, (grepl("TOTALS", SAAR2011[,1])))
temp[,1]<-sub("TOTALS for ", "",temp[,1])
temp[,1]<-trim(temp[,1])
temp<-temp[,c(1, 3:17)]
SAAR2011<-temp
SAAR2011[86,1]<-"Jefferson County"
SAAR2011[144,1]<-"Raceland Independent"
SAAR2011[164,1]<-"Walton Verona Independent"
setdiff(district.index$DISTRICT, SAAR2011$DISTRICT) #Providence & Harrodsburg still missing
setdiff(SAAR2011$DISTRICT, district.index$DISTRICT)
#clean 2012
temp<-subset(SAAR2012, (grepl("TOTALS", SAAR2012[,1])))
temp[,1]<-sub("TOTALS for ", "",temp[,1])
temp[,1]<-trim(temp[,1])
temp<-temp[,c(1, 3:17)]
SAAR2012<-temp
SAAR2012[144,1]<-"Raceland Independent"
SAAR2012[164,1]<-"Walton Verona Independent"
setdiff(district.index$DISTRICT, SAAR2012$DISTRICT) #Providence & Harrodsburg still missing
setdiff(SAAR2012$DISTRICT, district.index$DISTRICT)
#merge 1999
SAAR.1999.2012<-merge(district.index, SAAR1999[, c(grep("DISTRICT", names(SAAR1999)),
grep("X8", names(SAAR1999)),
grep("X9", names(SAAR1999)),
grep("X12", names(SAAR1999)))], by="DISTRICT")
class(SAAR.1999.2012[,1])
SAAR.1999.2012[,1]<-as.character(SAAR.1999.2012[,1])
#merge 2000
SAAR.1999.2012<-merge(SAAR.1999.2012, SAAR2000[,c(grep("DISTRICT", names(SAAR2000)),
grep("X8", names(SAAR2000)),
grep("X9", names(SAAR2000)),
grep("X12", names(SAAR2000)))], by="DISTRICT")
#merge 2001
SAAR.1999.2012<-merge(SAAR.1999.2012, SAAR2001[,c(grep("DISTRICT", names(SAAR2001)),
grep("X8", names(SAAR2001)),
grep("X9", names(SAAR2001)),
grep("X12", names(SAAR2001)))], by="DISTRICT")
#merge 2002
SAAR.1999.2012<-merge(SAAR.1999.2012, SAAR2002[, c(grep("DISTRICT", names(SAAR2002)),
grep("X8", names(SAAR2002)),
grep("X9", names(SAAR2002)),
grep("X12", names(SAAR2002)))], by="DISTRICT")
#merge 2003
SAAR.1999.2012<-merge(SAAR.1999.2012, SAAR2003[, c(grep("DISTRICT", names(SAAR2003)),
grep("X8", names(SAAR2003)),
grep("X9", names(SAAR2003)),
grep("X12", names(SAAR2003)))], by="DISTRICT")
#merge 2004
SAAR.1999.2012<-merge(SAAR.1999.2012, SAAR2004[, c(grep("DISTRICT", names(SAAR2004)),
grep("X8", names(SAAR2004)),
grep("X9", names(SAAR2004)),
grep("X12", names(SAAR2004)))], by="DISTRICT")
#merge 2005
SAAR.1999.2012<-merge(SAAR.1999.2012, SAAR2005[, c(grep("DISTRICT", names(SAAR2005)),
grep("X8", names(SAAR2005)),
grep("X9", names(SAAR2005)),
grep("X12", names(SAAR2005)))], by="DISTRICT")
#merge 2006--Drop Harrodsburg
SAAR.1999.2012<-merge(SAAR.1999.2012, SAAR2006[, c(grep("DISTRICT", names(SAAR2006)),
grep("X8", names(SAAR2006)),
grep("X9", names(SAAR2006)),
grep("X12", names(SAAR2006)))], by="DISTRICT")
#merge 2007--Drop Providence
SAAR.1999.2012<-merge(SAAR.1999.2012, SAAR2007[, c(grep("DISTRICT", names(SAAR2007)),
grep("X8", names(SAAR2007)),
grep("X9", names(SAAR2007)),
grep("X12", names(SAAR2007)))], by="DISTRICT")
#merge 2008
SAAR.1999.2012<-merge(SAAR.1999.2012, SAAR2008[, c(grep("DISTRICT", names(SAAR2008)),
grep("X8", names(SAAR2008)),
grep("X9", names(SAAR2008)),
grep("X12", names(SAAR2008)))], by="DISTRICT")
#merge 2009
SAAR.1999.2012<-merge(SAAR.1999.2012, SAAR2009[, c(grep("DISTRICT", names(SAAR2009)),
grep("X8", names(SAAR2009)),
grep("X9", names(SAAR2009)),
grep("X12", names(SAAR2009)))], by="DISTRICT")
#merge 2010
SAAR.1999.2012<-merge(SAAR.1999.2012, SAAR2010[, c(grep("DISTRICT", names(SAAR2010)),
grep("X8", names(SAAR2010)),
grep("X9", names(SAAR2010)),
grep("X12", names(SAAR2010)))], by="DISTRICT")
#merge 2011
SAAR.1999.2012<-merge(SAAR.1999.2012, SAAR2011[, c(grep("DISTRICT", names(SAAR2011)),
grep("X8", names(SAAR2011)),
grep("X9", names(SAAR2011)),
grep("X12", names(SAAR2011)))], by="DISTRICT")
#merge 2012
SAAR.1999.2012<-merge(SAAR.1999.2012, SAAR2012[, c(grep("DISTRICT", names(SAAR2012)),
grep("X8", names(SAAR2012)),
grep("X9", names(SAAR2012)),
grep("X12", names(SAAR2012)))], by="DISTRICT")
#name columns
a<-c("GR8E", "GR9E", "GR12E")
names(SAAR.1999.2012)<-c("DISTRICT",paste(rep(1999:2012, each=3), a, sep="."))
rm(a)
# remove SAAR spreadsheets
rm( SAAR1999, SAAR2000, SAAR2001, SAAR2002, SAAR2003, SAAR2004, SAAR2005, SAAR2006, SAAR2007, SAAR2008,
SAAR2009, SAAR2010, SAAR2011, SAAR2012, set.colClass.1, i, temp)
#enrollments by grade
Eighth.GE<-SAAR.1999.2012[, c(1, grep("GR8E$", names(SAAR.1999.2012)))]
Ninth.GE<-SAAR.1999.2012[, c(1, grep("GR9E$", names(SAAR.1999.2012)))]
Twelth.GE<-SAAR.1999.2012[, c(1, grep("GR12E$", names(SAAR.1999.2012)))]
#Create Ratios for 8 & 9 grade
Cohort.8G<-Twelth.GE[,7:15]/Eighth.GE[,2:10]
Cohort.9G<-Twelth.GE[6:15]/Ninth.GE[2:11]
#bind district to 8 Gr cohorts
Cohort.8G<-cbind(Eighth.GE[,1], Cohort.8G)
a<-names(Cohort.8G)
a[1]<-"DISTRICT"
a<-sub("GR12E", "Gr8Cohort", a)
names(Cohort.8G)<-a
#bind district to 9Gr cohort
Cohort.9G<-cbind(Ninth.GE[,1], Cohort.9G)
a<-names(Cohort.9G)
a<-sub("GR12E", "9GrCohort", a)
a[1]<-"DISTRICT"
names(Cohort.9G)<-a
#compute state wide averages for cohorts
All.Schools.Avg.8GC<-sapply(Cohort.8G[, 2:10], mean)
All.Schools.Avg.9GC<-sapply(Cohort.9G[-grep("NaN", Cohort.9G[,2]),2:11], mean)
#import U.S. Census Bureau on School District Poverty Rates
#http://www.census.gov/did/www/saipe/data/statecounty/data/index.html
poverty<-read.csv("ussd11.csv", skip=2, header=TRUE,
fill=TRUE, blank.lines.skip=TRUE,
strip.white=TRUE, as.is=TRUE)
Ky.poverty<-poverty[poverty$State.Postal.Code=="KY",]
Ky.percent.children.in.poverty.5.to.17.in.2011<-Ky.poverty[,7]/Ky.poverty[,6]
Ky.poverty<-cbind(Ky.poverty$Name, Ky.percent.children.in.poverty.5.to.17.in.2011)
Ky.poverty<-as.data.frame(Ky.poverty)
#bind Cohort 8, 9 and poverty indicator
SAAR.Cohorts<-cbind(Cohort.8G, Cohort.9G[2:11])
setdiff(SAAR.Cohorts[,1], Ky.poverty[,1])
setdiff(SAAR.Cohorts[,1], Ky.poverty[,1])
a<-Ky.poverty[,1]
a<-as.character(a)
a<-sub(" School District","", a)
a<-sub("Larue County", "LaRue County", a)
a<-sub("Walton-Verona Independent", "Walton Verona Independent", a)
a<-sub("Raceland-Worthington Independent", "Raceland Independent", a)
setdiff(SAAR.Cohorts[,1], a)
setdiff(a, SAAR.Cohorts[,1])
Ky.poverty[,1]<-a
a<-names(Ky.poverty)
a[1]<-"DISTRICT"
names(Ky.poverty)<-a
#merge poverty with SAAR Cohorts
SAAR.Cohorts<-merge(SAAR.Cohorts, Ky.poverty, by="DISTRICT")
#new categorical variable--D1 through D10 for child poverty rates
a<-SAAR.Cohorts[,21]
a<-as.numeric(a)
b<-cut(a,10)
levels(b)<-c(paste("D", 1:10, sep=""))
#bind categorical "b" to SAAR Cohorts
SAAR.Cohorts<-cbind(SAAR.Cohorts, b)
a<-names(SAAR.Cohorts)
a[22]<-"poverty.decile"
names(SAAR.Cohorts)<-a
#exploratory summaries based on deciles of poverty
D1<-subset(SAAR.Cohorts, SAAR.Cohorts$poverty.decile=="D1")
D1.Poverty.8th.Grade.Cohort<-colMeans(D1[,2:10], na.rm=TRUE)
D1.Poverty.9th.Grade.Cohort<-colMeans(D1[,11:20], na.rm=TRUE)
D10<-subset(SAAR.Cohorts, SAAR.Cohorts$poverty.decile=="D10")
D10.Poverty.8th.Grade.Cohort<-colMeans(D10[,2:10], na.rm=TRUE)
D10.Poverty.9th.Grade.Cohort<-colMeans(D10[,11:20], na.rm=TRUE)
load (variablesq)
load (SAAR.1999.2012)
load ("SAAR.1999.2012")
a <- 1:100
save.image("~/Desktop/SAAR_Data/example1.RData")
load("~/Desktop/SAAR_Data/example1.RData")
load (a)
load (example1)
setwd("~/Desktop/SAAR_Data")
load (example1.RData)
load ("example1.RData")
example1 <- read.table("~/Desktop/SAAR_Data/example1.RData", quote="\"")
View(example1)
View(example1)
View(example1)
a <- 1:100
?save.image
load ("example1.RData")
save.image (a, file = example1)
ls()
save.image (a, file = "example1")
save.image (a, file = "example1.RData")
source("example")
source("example.R")
#set colClasses
set.colClass.1<-c(rep("character", 2), rep("integer", 13) )
#read KDE data
SAAR1999<-read.csv("SAAR1999.csv", skip=6, nrow=176, header=TRUE, fill=TRUE, blank.lines.skip=TRUE,
strip.white=TRUE, colClasses=c("character", rep("integer", 13)))
getwd()
#read KDE data
SAAR1999<-read.csv("~/Desktop/SAAR_Data/data sets/SAAR1999.csv", skip=6, nrow=176, header=TRUE, fill=TRUE, blank.lines.skip=TRUE,
strip.white=TRUE, colClasses=c("character", rep("integer", 13)))
SAAR2000<-read.csv("~/Desktop/SAAR_Data/data sets/SAAR2000.csv", skip=6, nrow=176, header=TRUE, fill=TRUE, blank.lines.skip=TRUE,
strip.white=TRUE, colClasses=c("character", rep("integer", 13)))
SAAR2001<-read.csv("~/Desktop/SAAR_Data/data sets/SAAR2001.csv", skip=6, nrow=176, header=TRUE, fill=TRUE, blank.lines.skip=TRUE,
strip.white=TRUE, colClasses=c("character", rep("integer", 13)))
SAAR2002<-read.csv("~/Desktop/SAAR_Data/data sets/SAAR2002.csv", skip=6, nrow=176, header=TRUE, fill=TRUE, blank.lines.skip=TRUE,
strip.white=TRUE, colClasses=c("character", rep("integer", 13)))
SAAR2003<-read.csv("~/Desktop/SAAR_Data/data sets/SAAR2003.csv", skip=6, nrow=176, header=TRUE, fill=TRUE, blank.lines.skip=TRUE,
strip.white=TRUE, colClasses=c("character", rep("integer", 13)))
#set colClasses
set.colClass.1<-c(rep("character", 2), rep("integer", 13) )
#read KDE data
SAAR1999<-read.csv("~/Desktop/SAAR_Data/data sets/SAAR1999.csv", skip=6, nrow=176,
header=TRUE, fill=TRUE, blank.lines.skip=TRUE,
strip.white=TRUE, colClasses=c("character", rep("integer", 13)))
SAAR2000<-read.csv("~/Desktop/SAAR_Data/data sets/SAAR2000.csv", skip=6, nrow=176,
header=TRUE, fill=TRUE, blank.lines.skip=TRUE,
strip.white=TRUE, colClasses=c("character", rep("integer", 13)))
SAAR2001<-read.csv("~/Desktop/SAAR_Data/data sets/SAAR2001.csv", skip=6, nrow=176,
header=TRUE, fill=TRUE, blank.lines.skip=TRUE,
strip.white=TRUE, colClasses=c("character", rep("integer", 13)))
SAAR2002<-read.csv("~/Desktop/SAAR_Data/data sets/SAAR2002.csv", skip=6, nrow=176,
header=TRUE, fill=TRUE, blank.lines.skip=TRUE,
strip.white=TRUE, colClasses=c("character", rep("integer", 13)))
SAAR2003<-read.csv("~/Desktop/SAAR_Data/data sets/SAAR2003.csv", skip=6, nrow=176,
header=TRUE, fill=TRUE, blank.lines.skip=TRUE,
strip.white=TRUE, colClasses=c("character", rep("integer", 13)))
SAAR2004<-read.csv("~/Desktop/SAAR_Data/data sets/SAAR2004.csv", header=TRUE, sep=",",
blank.lines.skip=TRUE, fill=TRUE, skip=6,
colClasses=c("numeric", "character", rep("integer", 13)),
strip.white=TRUE, nrow=351)
SAAR2005<-read.csv("~/Desktop/SAAR_Data/data sets/SAAR2005.csv", header=TRUE, sep=",",
blank.lines.skip=TRUE, fill=TRUE, skip=6,
colClasses=c("character", rep("integer", 13)),
strip.white=TRUE, nrow=176)
SAAR2006<-read.csv("~/Desktop/SAAR_Data/data sets/SAAR2006.csv", header=TRUE, sep=",",
blank.lines.skip=TRUE, fill=TRUE, skip=6,
colClasses=c("character", "character", rep("integer", 13)),
strip.white=TRUE)
SAAR2007<-read.csv("~/Desktop/SAAR_Data/data sets/SAAR2007.csv", header=TRUE, sep=",",
blank.lines.skip=TRUE, fill=TRUE, skip=6,
colClasses=c("character", "character", rep("integer", 13)),
strip.white=TRUE)
SAAR2008<-read.csv("~/Desktop/SAAR_Data/data sets/SAAR2008.csv", header=TRUE, sep=",",
blank.lines.skip=TRUE, fill=TRUE, skip=6,
colClasses=c("character", "character", rep("integer", 15)),
strip.white=TRUE)
SAAR2009<-read.csv("~/Desktop/SAAR_Data/data sets/SAAR2009.csv", header=TRUE, sep=",",
blank.lines.skip=TRUE, fill=TRUE, skip=6,
colClasses=c("character", "character", rep("integer", 15)),
strip.white=TRUE)
SAAR2010<-read.csv("~/Desktop/SAAR_Data/data sets/SAAR2010.csv", header=TRUE, sep=",",
blank.lines.skip=TRUE, fill=TRUE, skip=6,
colClasses=c("character", "character", rep("integer", 15)),
strip.white=TRUE)
SAAR2011<-read.csv("~/Desktop/SAAR_Data/data sets/SAAR2011.csv", header=TRUE, sep=",",
blank.lines.skip=TRUE, fill=TRUE, skip=6,
colClasses=c("character", "character", rep("integer", 15)),
strip.white=TRUE)
SAAR2012<-read.csv("~/Desktop/SAAR_Data/data sets/SAAR2012.csv", header=TRUE, sep=",",
blank.lines.skip=TRUE, fill=TRUE, skip=6,
colClasses=c("character", "character", rep("integer", 15)),
strip.white=TRUE)
